{{ attach_library('nimbus_theme/gallery-carousel') }}
{% import '@nimbus_theme/icons/_icons-macro.twig' as icons %}

{% if section_title %}
  {%
    include '@nimbus_theme/heading/heading.twig' with {
      "heading": {
        "title": section_title,
        "heading_level": 2,
        "modifier": "heading--section gallery-carousel__title"
      }
    } only
  %}
{% endif %}

{% if intro_text %}
  {%
    include '@nimbus_theme/body-text/body-text.twig' with {
      "body_text": intro_text,
      "modifier": "gallery-carousel__intro-text"
    } only
  %}
{% endif %}

<div class="gallery-carousel__main">
  <ul class="gallery-carousel{{ attributes ? ' ' ~ attributes.class}}"
    {{- attributes ? attributes|without(class) -}}>

    {% for item in carousel_items %}
      <li class="gallery-carousel-item">
        <img src="{{ item.media }}" class="gallery-carousel-item__media" alt="{{ item.media_description }}"/>
        {% if item.media_description %}
          <p class="gallery-carousel-item__text">{{ item.media_description }}</p>
        {% endif %}
      </li>
    {% endfor %}

  </ul>

  <div class="gallery-carousel__navigation">
    <button type="button" class="gallery-carousel__arrow arrow-left">
      {{ icons.get('arrow-left-black') }}
    </button>
    <button type="button" class="gallery-carousel__arrow arrow-right">
      {{ icons.get('arrow-right-black') }}
    </button>
  </div>
</div>

<ul class="gallery-carousel__nav">

  {% for item in carousel_nav_items %}
    <li class="gallery-carousel__nav-item">
     <img src="{{ item.media_thumb }}" alt="{{ item.media_thumb_description }}"/>
    </li>
  {% endfor %}

</ul>
