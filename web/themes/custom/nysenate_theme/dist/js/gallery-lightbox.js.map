{"version":3,"sources":["src/patterns/components/gallery-lightbox/gallery-lightbox.js"],"names":["document","Drupal","$","behaviors","gallery","attach","context","each","colorbox","rel","transition","opacity","href","attr","querySelectorAll","forEach","el","addEventListener","parentElement","querySelector","click","colorboxResize","resize","width","height","window","settings","onLoad","jQuery"],"mappings":"AAAA;;;;;AAIA;AAEA,CAAE,UAACA,QAAD,EAAWC,MAAX,EAAmBC,CAAnB,EAAyB;AACzB;AAEA;;;;;;AAKAD,EAAAA,MAAM,CAACE,SAAP,CAAiBC,OAAjB,GAA2B;AACzBC,IAAAA,MAAM,EAAE,gBAASC,OAAT,EAAkB;AACxBJ,MAAAA,CAAC,CAAC,4BAAD,EAA8BI,OAA9B,CAAD,CAAwCC,IAAxC,CAA6C,YAAW;AACtDL,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQM,QAAR,CAAiB;AACfC,UAAAA,GAAG,EAAE,QADU;AAEfC,UAAAA,UAAU,EAAE,MAFG;AAGfC,UAAAA,OAAO,EAAE,GAHM;AAIfC,UAAAA,IAAI,EAAEV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,CAAa,KAAb;AAJS,SAAjB;AAMD,OAPD;AAQAb,MAAAA,QAAQ,CAACc,gBAAT,CAA0B,gCAA1B,EACGC,OADH,CACW,UAAAC,EAAE,EAAI;AACbA,QAAAA,EAAE,CAACC,gBAAH,CAAoB,OAApB,EAA6B,YAAW;AACtC,cAAG,KAAKC,aAAL,CAAmBC,aAAnB,CAAiC,KAAjC,CAAH,EAA4C;AAC1C,iBAAKD,aAAL,CAAmBC,aAAnB,CAAiC,KAAjC,EAAwCC,KAAxC;AACD;AACF,SAJD;AAKD,OAPH,EATwB,CAiBxB;;AACA,UAAIC,cAAc,GAAG,SAAjBA,cAAiB,CAASC,MAAT,EAAiB;AACpC,YAAIC,KAAK,GAAG,KAAZ;AACA,YAAIC,MAAM,GAAG,KAAb;;AAEA,YAAGtB,CAAC,CAACuB,MAAD,CAAD,CAAUF,KAAV,KAAoB,GAAvB,EAA4B;AAC1BA,UAAAA,KAAK,GAAG,KAAR;AACD;;AACD,YAAGrB,CAAC,CAACuB,MAAD,CAAD,CAAUD,MAAV,KAAqB,GAAxB,EAA6B;AAC3BA,UAAAA,MAAM,GAAG,KAAT;AACD;;AAEDtB,QAAAA,CAAC,CAACM,QAAF,CAAWkB,QAAX,CAAoBF,MAApB,GAA6BA,MAA7B;AACAtB,QAAAA,CAAC,CAACM,QAAF,CAAWkB,QAAX,CAAoBH,KAApB,GAA4BA,KAA5B,CAZoC,CAcpC;;AACA,YAAGD,MAAH,EAAW;AACTpB,UAAAA,CAAC,CAACM,QAAF,CAAWc,MAAX,CAAkB;AAChB,sBAAUE,MADM;AAEhB,qBAASD;AAFO,WAAlB;AAID;AACF,OArBD,CAlBwB,CAyCxB;;;AACArB,MAAAA,CAAC,CAACM,QAAF,CAAWkB,QAAX,CAAoBC,MAApB,GAA6B,YAAW;AACtCN,QAAAA,cAAc;AACf,OAFD,CA1CwB,CA8CxB;;;AACAnB,MAAAA,CAAC,CAACuB,MAAD,CAAD,CAAUH,MAAV,CAAiB,YAAW;AAC1BD,QAAAA,cAAc,CAAC,IAAD,CAAd;AACD,OAFD;AAGD;AAnDwB,GAA3B;AAqDD,CA7DA,CA6DErB,QA7DF,EA6DYC,MA7DZ,EA6DoB2B,MA7DpB,CAAD","sourcesContent":["/**\n * @file\n * Behaviors for the Gallery using the Colorbox library.\n */\n/* eslint-disable max-len */\n\n!((document, Drupal, $) => {\n  'use strict';\n\n  /**\n   * Setup and attach the Gallery behaviors.\n   *\n   * @type {Drupal~behavior}\n   */\n  Drupal.behaviors.gallery = {\n    attach: function(context) {\n      $('.gallery-lightbox-item img',context).each(function() {\n        $(this).colorbox({\n          rel: 'images',\n          transition: 'fade',\n          opacity: 0.9,\n          href: $(this).attr('src')\n        });\n      });\n      document.querySelectorAll('.gallery-lightbox-item__expand')\n        .forEach(el => {\n          el.addEventListener('click', function() {\n            if(this.parentElement.querySelector('img')) {\n              this.parentElement.querySelector('img').click();\n            }\n          });\n        });\n      // Customize colorbox dimensions\n      var colorboxResize = function(resize) {\n        var width = '90%';\n        var height = '90%';\n\n        if($(window).width() > 960) {\n          width = '860';\n        }\n        if($(window).height() > 700) {\n          height = '630';\n        }\n\n        $.colorbox.settings.height = height;\n        $.colorbox.settings.width = width;\n\n        //if window is resized while lightbox open\n        if(resize) {\n          $.colorbox.resize({\n            'height': height,\n            'width': width\n          });\n        }\n      };\n\n      // Make colorbox overlay responsive.\n      $.colorbox.settings.onLoad = function() {\n        colorboxResize();\n      };\n\n      //In case of window being resized\n      $(window).resize(function() {\n        colorboxResize(true);\n      });\n    },\n  };\n})(document, Drupal, jQuery);\n"],"file":"gallery-lightbox.js"}