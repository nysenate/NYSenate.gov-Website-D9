{"version":3,"sources":["src/vendor/colorbox/jquery.colorbox.js"],"names":["$","document","window","defaults","html","photo","iframe","inline","transition","speed","fadeOut","width","initialWidth","innerWidth","maxWidth","height","initialHeight","innerHeight","maxHeight","scalePhotos","scrolling","opacity","preloading","className","overlayClose","escKey","arrowKey","top","bottom","left","right","fixed","data","undefined","closeButton","fastIframe","open","reposition","loop","slideshow","slideshowAuto","slideshowSpeed","slideshowStart","slideshowStop","photoRegex","retinaImage","retinaUrl","retinaSuffix","current","previous","next","close","xhrError","imgError","returnFocus","trapFocus","onOpen","onLoad","onComplete","onCleanup","onClosed","rel","href","attr","title","createImg","img","Image","attrs","each","key","val","createIframe","createElement","frameBorder","allowTransparency","name","Date","getTime","allowFullscreen","colorbox","prefix","boxElement","event_open","event_load","event_complete","event_cleanup","event_closed","event_purge","$overlay","$box","$wrap","$content","$topBorder","$leftBorder","$rightBorder","$bottomBorder","$related","$window","$loaded","$loadingBay","$loadingOverlay","$title","$current","$slideshow","$next","$prev","$close","$groupControls","$events","settings","interfaceHeight","interfaceWidth","loadedHeight","loadedWidth","index","active","closing","loadingTimer","publicMethod","div","requests","previousCSS","init","$tag","tag","id","css","element","style","cssText","winheight","Settings","options","Object","cache","el","value","dataAttr","get","isFunction","call","getIndex","increment","max","length","newIndex","setSize","size","dimension","Math","round","test","parseInt","isImage","url","devicePixelRatio","replace","e","contains","target","stopPropagation","focus","setClass","str","add","removeClass","addClass","getRelated","filter","trigger","event","triggerHandler","click","timeOut","clear","clearTimeout","set","setTimeout","start","unbind","one","stop","bind","reset","hide","show","launch","visibility","display","append","outerHeight","outerWidth","w","min","h","position","addEventListener","removeEventListener","parseFloat","cursor","appendTo","load","appendHTML","support","role","tabindex","find","body","parent","addBindings","clickHandler","which","shiftKey","altKey","metaKey","ctrlKey","preventDefault","prev","keyCode","fn","on","live","callback","$obj","old","extend","loadedCallback","offset","scrollTop","scrollLeft","modalDimensions","tempSpeed","i","dequeue","animate","duration","complete","step","resize","scrolltop","prep","object","remove","getWidth","mw","getHeight","mh","overflow","prependTo","total","removeFilter","removeAttribute","src","fadeTo","setResize","$inline","request","$target","eq","insertBefore","replaceWith","percent","marginTop","status","contents","removeData","jQuery"],"mappings":"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","sourcesContent":["/*!\n  Colorbox 1.6.4\n  license: MIT\n  http://www.jacklmoore.com/colorbox\n*/\n(function ($, document, window) {\n  var\n  // Default settings object.\n  // See http://jacklmoore.com/colorbox for details.\n  defaults = {\n    // data sources\n    html: false,\n    photo: false,\n    iframe: false,\n    inline: false,\n\n    // behavior and appearance\n    transition: \"elastic\",\n    speed: 300,\n    fadeOut: 300,\n    width: false,\n    initialWidth: \"600\",\n    innerWidth: false,\n    maxWidth: false,\n    height: false,\n    initialHeight: \"450\",\n    innerHeight: false,\n    maxHeight: false,\n    scalePhotos: true,\n    scrolling: true,\n    opacity: 0.9,\n    preloading: true,\n    className: false,\n    overlayClose: true,\n    escKey: true,\n    arrowKey: true,\n    top: false,\n    bottom: false,\n    left: false,\n    right: false,\n    fixed: false,\n    data: undefined,\n    closeButton: true,\n    fastIframe: true,\n    open: false,\n    reposition: true,\n    loop: true,\n    slideshow: false,\n    slideshowAuto: true,\n    slideshowSpeed: 2500,\n    slideshowStart: \"start slideshow\",\n    slideshowStop: \"stop slideshow\",\n    photoRegex: /\\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\\?).*)?$/i,\n\n    // alternate image paths for high-res displays\n    retinaImage: false,\n    retinaUrl: false,\n    retinaSuffix: '@2x.$1',\n\n    // internationalization\n    current: \"image {current} of {total}\",\n    previous: \"previous\",\n    next: \"next\",\n    close: \"close\",\n    xhrError: \"This content failed to load.\",\n    imgError: \"This image failed to load.\",\n\n    // accessbility\n    returnFocus: true,\n    trapFocus: true,\n\n    // callbacks\n    onOpen: false,\n    onLoad: false,\n    onComplete: false,\n    onCleanup: false,\n    onClosed: false,\n\n    rel: function() {\n      return this.rel;\n    },\n    href: function() {\n      // using this.href would give the absolute url, when the href may have been inteded as a selector (e.g. '#container')\n      return $(this).attr('href');\n    },\n    title: function() {\n      return this.title;\n    },\n    createImg: function() {\n      var img = new Image();\n      var attrs = $(this).data('cbox-img-attrs');\n\n      if (typeof attrs === 'object') {\n        $.each(attrs, function(key, val){\n          img[key] = val;\n        });\n      }\n\n      return img;\n    },\n    createIframe: function() {\n      var iframe = document.createElement('iframe');\n      var attrs = $(this).data('cbox-iframe-attrs');\n\n      if (typeof attrs === 'object') {\n        $.each(attrs, function(key, val){\n          iframe[key] = val;\n        });\n      }\n\n      if ('frameBorder' in iframe) {\n        iframe.frameBorder = 0;\n      }\n      if ('allowTransparency' in iframe) {\n        iframe.allowTransparency = \"true\";\n      }\n      iframe.name = (new Date()).getTime(); // give the iframe a unique name to prevent caching\n      iframe.allowFullscreen = true;\n\n      return iframe;\n    }\n  },\n\n  // Abstracting the HTML and event identifiers for easy rebranding\n  colorbox = 'colorbox',\n  prefix = 'cbox',\n  boxElement = prefix + 'Element',\n\n  // Events\n  event_open = prefix + '_open',\n  event_load = prefix + '_load',\n  event_complete = prefix + '_complete',\n  event_cleanup = prefix + '_cleanup',\n  event_closed = prefix + '_closed',\n  event_purge = prefix + '_purge',\n\n  // Cached jQuery Object Variables\n  $overlay,\n  $box,\n  $wrap,\n  $content,\n  $topBorder,\n  $leftBorder,\n  $rightBorder,\n  $bottomBorder,\n  $related,\n  $window,\n  $loaded,\n  $loadingBay,\n  $loadingOverlay,\n  $title,\n  $current,\n  $slideshow,\n  $next,\n  $prev,\n  $close,\n  $groupControls,\n  $events = $('<a/>'), // $({}) would be preferred, but there is an issue with jQuery 1.4.2\n\n  // Variables for cached values or use across multiple functions\n  settings,\n  interfaceHeight,\n  interfaceWidth,\n  loadedHeight,\n  loadedWidth,\n  index,\n  photo,\n  open,\n  active,\n  closing,\n  loadingTimer,\n  publicMethod,\n  div = \"div\",\n  requests = 0,\n  previousCSS = {},\n  init;\n\n  // ****************\n  // HELPER FUNCTIONS\n  // ****************\n\n  // Convenience function for creating new jQuery objects\n  function $tag(tag, id, css) {\n    var element = document.createElement(tag);\n\n    if (id) {\n      element.id = prefix + id;\n    }\n\n    if (css) {\n      element.style.cssText = css;\n    }\n\n    return $(element);\n  }\n\n  // Get the window height using innerHeight when available to avoid an issue with iOS\n  // http://bugs.jquery.com/ticket/6724\n  function winheight() {\n    return window.innerHeight ? window.innerHeight : $(window).height();\n  }\n\n  function Settings(element, options) {\n    if (options !== Object(options)) {\n      options = {};\n    }\n\n    this.cache = {};\n    this.el = element;\n\n    this.value = function(key) {\n      var dataAttr;\n\n      if (this.cache[key] === undefined) {\n        dataAttr = $(this.el).attr('data-cbox-'+key);\n\n        if (dataAttr !== undefined) {\n          this.cache[key] = dataAttr;\n        } else if (options[key] !== undefined) {\n          this.cache[key] = options[key];\n        } else if (defaults[key] !== undefined) {\n          this.cache[key] = defaults[key];\n        }\n      }\n\n      return this.cache[key];\n    };\n\n    this.get = function(key) {\n      var value = this.value(key);\n      return $.isFunction(value) ? value.call(this.el, this) : value;\n    };\n  }\n\n  // Determine the next and previous members in a group.\n  function getIndex(increment) {\n    var\n    max = $related.length,\n    newIndex = (index + increment) % max;\n\n    return (newIndex < 0) ? max + newIndex : newIndex;\n  }\n\n  // Convert '%' and 'px' values to integers\n  function setSize(size, dimension) {\n    return Math.round((/%/.test(size) ? ((dimension === 'x' ? $window.width() : winheight()) / 100) : 1) * parseInt(size, 10));\n  }\n\n  // Checks an href to see if it is a photo.\n  // There is a force photo option (photo: true) for hrefs that cannot be matched by the regex.\n  function isImage(settings, url) {\n    return settings.get('photo') || settings.get('photoRegex').test(url);\n  }\n\n  function retinaUrl(settings, url) {\n    return settings.get('retinaUrl') && window.devicePixelRatio > 1 ? url.replace(settings.get('photoRegex'), settings.get('retinaSuffix')) : url;\n  }\n\n  function trapFocus(e) {\n    if ('contains' in $box[0] && !$box[0].contains(e.target) && e.target !== $overlay[0]) {\n      e.stopPropagation();\n      $box.focus();\n    }\n  }\n\n  function setClass(str) {\n    if (setClass.str !== str) {\n      $box.add($overlay).removeClass(setClass.str).addClass(str);\n      setClass.str = str;\n    }\n  }\n\n  function getRelated(rel) {\n    index = 0;\n\n    if (rel && rel !== false && rel !== 'nofollow') {\n      $related = $('.' + boxElement).filter(function () {\n        var options = $.data(this, colorbox);\n        var settings = new Settings(this, options);\n        return (settings.get('rel') === rel);\n      });\n      index = $related.index(settings.el);\n\n      // Check direct calls to Colorbox.\n      if (index === -1) {\n        $related = $related.add(settings.el);\n        index = $related.length - 1;\n      }\n    } else {\n      $related = $(settings.el);\n    }\n  }\n\n  function trigger(event) {\n    // for external use\n    $(document).trigger(event);\n    // for internal use\n    $events.triggerHandler(event);\n  }\n\n  var slideshow = (function(){\n    var active,\n      className = prefix + \"Slideshow_\",\n      click = \"click.\" + prefix,\n      timeOut;\n\n    function clear () {\n      clearTimeout(timeOut);\n    }\n\n    function set() {\n      if (settings.get('loop') || $related[index + 1]) {\n        clear();\n        timeOut = setTimeout(publicMethod.next, settings.get('slideshowSpeed'));\n      }\n    }\n\n    function start() {\n      $slideshow\n        .html(settings.get('slideshowStop'))\n        .unbind(click)\n        .one(click, stop);\n\n      $events\n        .bind(event_complete, set)\n        .bind(event_load, clear);\n\n      $box.removeClass(className + \"off\").addClass(className + \"on\");\n    }\n\n    function stop() {\n      clear();\n\n      $events\n        .unbind(event_complete, set)\n        .unbind(event_load, clear);\n\n      $slideshow\n        .html(settings.get('slideshowStart'))\n        .unbind(click)\n        .one(click, function () {\n          publicMethod.next();\n          start();\n        });\n\n      $box.removeClass(className + \"on\").addClass(className + \"off\");\n    }\n\n    function reset() {\n      active = false;\n      $slideshow.hide();\n      clear();\n      $events\n        .unbind(event_complete, set)\n        .unbind(event_load, clear);\n      $box.removeClass(className + \"off \" + className + \"on\");\n    }\n\n    return function(){\n      if (active) {\n        if (!settings.get('slideshow')) {\n          $events.unbind(event_cleanup, reset);\n          reset();\n        }\n      } else {\n        if (settings.get('slideshow') && $related[1]) {\n          active = true;\n          $events.one(event_cleanup, reset);\n          if (settings.get('slideshowAuto')) {\n            start();\n          } else {\n            stop();\n          }\n          $slideshow.show();\n        }\n      }\n    };\n\n  }());\n\n\n  function launch(element) {\n    var options;\n\n    if (!closing) {\n\n      options = $(element).data(colorbox);\n\n      settings = new Settings(element, options);\n\n      getRelated(settings.get('rel'));\n\n      if (!open) {\n        open = active = true; // Prevents the page-change action from queuing up if the visitor holds down the left or right keys.\n\n        setClass(settings.get('className'));\n\n        // Show colorbox so the sizes can be calculated in older versions of jQuery\n        $box.css({visibility:'hidden', display:'block', opacity:''});\n\n        $loaded = $tag(div, 'LoadedContent', 'width:0; height:0; overflow:hidden; visibility:hidden');\n        $content.css({width:'', height:''}).append($loaded);\n\n        // Cache values needed for size calculations\n        interfaceHeight = $topBorder.height() + $bottomBorder.height() + $content.outerHeight(true) - $content.height();\n        interfaceWidth = $leftBorder.width() + $rightBorder.width() + $content.outerWidth(true) - $content.width();\n        loadedHeight = $loaded.outerHeight(true);\n        loadedWidth = $loaded.outerWidth(true);\n\n        // Opens inital empty Colorbox prior to content being loaded.\n        var initialWidth = setSize(settings.get('initialWidth'), 'x');\n        var initialHeight = setSize(settings.get('initialHeight'), 'y');\n        var maxWidth = settings.get('maxWidth');\n        var maxHeight = settings.get('maxHeight');\n\n        settings.w = Math.max((maxWidth !== false ? Math.min(initialWidth, setSize(maxWidth, 'x')) : initialWidth) - loadedWidth - interfaceWidth, 0);\n        settings.h = Math.max((maxHeight !== false ? Math.min(initialHeight, setSize(maxHeight, 'y')) : initialHeight) - loadedHeight - interfaceHeight, 0);\n\n        $loaded.css({width:'', height:settings.h});\n        publicMethod.position();\n\n        trigger(event_open);\n        settings.get('onOpen');\n\n        $groupControls.add($title).hide();\n\n        $box.focus();\n\n        if (settings.get('trapFocus')) {\n          // Confine focus to the modal\n          // Uses event capturing that is not supported in IE8-\n          if (document.addEventListener) {\n\n            document.addEventListener('focus', trapFocus, true);\n\n            $events.one(event_closed, function () {\n              document.removeEventListener('focus', trapFocus, true);\n            });\n          }\n        }\n\n        // Return focus on closing\n        if (settings.get('returnFocus')) {\n          $events.one(event_closed, function () {\n            $(settings.el).focus();\n          });\n        }\n      }\n\n      var opacity = parseFloat(settings.get('opacity'));\n      $overlay.css({\n        opacity: opacity === opacity ? opacity : '',\n        cursor: settings.get('overlayClose') ? 'pointer' : '',\n        visibility: 'visible'\n      }).show();\n\n      if (settings.get('closeButton')) {\n        $close.html(settings.get('close')).appendTo($content);\n      } else {\n        $close.appendTo('<div/>'); // replace with .detach() when dropping jQuery < 1.4\n      }\n\n      load();\n    }\n  }\n\n  // Colorbox's markup needs to be added to the DOM prior to being called\n  // so that the browser will go ahead and load the CSS background images.\n  function appendHTML() {\n    if (!$box) {\n      init = false;\n      $window = $(window);\n      $box = $tag(div).attr({\n        id: colorbox,\n        'class': $.support.opacity === false ? prefix + 'IE' : '', // class for optional IE8 & lower targeted CSS.\n        role: 'dialog',\n        tabindex: '-1'\n      }).hide();\n      $overlay = $tag(div, \"Overlay\").hide();\n      $loadingOverlay = $([$tag(div, \"LoadingOverlay\")[0],$tag(div, \"LoadingGraphic\")[0]]);\n      $wrap = $tag(div, \"Wrapper\");\n      $content = $tag(div, \"Content\").append(\n        $title = $tag(div, \"Title\"),\n        $current = $tag(div, \"Current\"),\n        $prev = $('<button type=\"button\"/>').attr({id:prefix+'Previous'}),\n        $next = $('<button type=\"button\"/>').attr({id:prefix+'Next'}),\n        $slideshow = $('<button type=\"button\"/>').attr({id:prefix+'Slideshow'}),\n        $loadingOverlay\n      );\n\n      $close = $('<button type=\"button\"/>').attr({id:prefix+'Close'});\n\n      $wrap.append( // The 3x3 Grid that makes up Colorbox\n        $tag(div).append(\n          $tag(div, \"TopLeft\"),\n          $topBorder = $tag(div, \"TopCenter\"),\n          $tag(div, \"TopRight\")\n        ),\n        $tag(div, false, 'clear:left').append(\n          $leftBorder = $tag(div, \"MiddleLeft\"),\n          $content,\n          $rightBorder = $tag(div, \"MiddleRight\")\n        ),\n        $tag(div, false, 'clear:left').append(\n          $tag(div, \"BottomLeft\"),\n          $bottomBorder = $tag(div, \"BottomCenter\"),\n          $tag(div, \"BottomRight\")\n        )\n      ).find('div div').css({'float': 'left'});\n\n      $loadingBay = $tag(div, false, 'position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;');\n\n      $groupControls = $next.add($prev).add($current).add($slideshow);\n    }\n    if (document.body && !$box.parent().length) {\n      $(document.body).append($overlay, $box.append($wrap, $loadingBay));\n    }\n  }\n\n  // Add Colorbox's event bindings\n  function addBindings() {\n    function clickHandler(e) {\n      // ignore non-left-mouse-clicks and clicks modified with ctrl / command, shift, or alt.\n      // See: http://jacklmoore.com/notes/click-events/\n      if (!(e.which > 1 || e.shiftKey || e.altKey || e.metaKey || e.ctrlKey)) {\n        e.preventDefault();\n        launch(this);\n      }\n    }\n\n    if ($box) {\n      if (!init) {\n        init = true;\n\n        // Anonymous functions here keep the public method from being cached, thereby allowing them to be redefined on the fly.\n        $next.click(function () {\n          publicMethod.next();\n        });\n        $prev.click(function () {\n          publicMethod.prev();\n        });\n        $close.click(function () {\n          publicMethod.close();\n        });\n        $overlay.click(function () {\n          if (settings.get('overlayClose')) {\n            publicMethod.close();\n          }\n        });\n\n        // Key Bindings\n        $(document).bind('keydown.' + prefix, function (e) {\n          var key = e.keyCode;\n          if (open && settings.get('escKey') && key === 27) {\n            e.preventDefault();\n            publicMethod.close();\n          }\n          if (open && settings.get('arrowKey') && $related[1] && !e.altKey) {\n            if (key === 37) {\n              e.preventDefault();\n              $prev.click();\n            } else if (key === 39) {\n              e.preventDefault();\n              $next.click();\n            }\n          }\n        });\n\n        if ($.isFunction($.fn.on)) {\n          // For jQuery 1.7+\n          $(document).on('click.'+prefix, '.'+boxElement, clickHandler);\n        } else {\n          // For jQuery 1.3.x -> 1.6.x\n          // This code is never reached in jQuery 1.9, so do not contact me about 'live' being removed.\n          // This is not here for jQuery 1.9, it's here for legacy users.\n          $('.'+boxElement).live('click.'+prefix, clickHandler);\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  // Don't do anything if Colorbox already exists.\n  if ($[colorbox]) {\n    return;\n  }\n\n  // Append the HTML when the DOM loads\n  $(appendHTML);\n\n\n  // ****************\n  // PUBLIC FUNCTIONS\n  // Usage format: $.colorbox.close();\n  // Usage from within an iframe: parent.jQuery.colorbox.close();\n  // ****************\n\n  publicMethod = $.fn[colorbox] = $[colorbox] = function (options, callback) {\n    var settings;\n    var $obj = this;\n\n    options = options || {};\n\n    if ($.isFunction($obj)) { // assume a call to $.colorbox\n      $obj = $('<a/>');\n      options.open = true;\n    }\n\n    if (!$obj[0]) { // colorbox being applied to empty collection\n      return $obj;\n    }\n\n    appendHTML();\n\n    if (addBindings()) {\n\n      if (callback) {\n        options.onComplete = callback;\n      }\n\n      $obj.each(function () {\n        var old = $.data(this, colorbox) || {};\n        $.data(this, colorbox, $.extend(old, options));\n      }).addClass(boxElement);\n\n      settings = new Settings($obj[0], options);\n\n      if (settings.get('open')) {\n        launch($obj[0]);\n      }\n    }\n\n    return $obj;\n  };\n\n  publicMethod.position = function (speed, loadedCallback) {\n    var\n    css,\n    top = 0,\n    left = 0,\n    offset = $box.offset(),\n    scrollTop,\n    scrollLeft;\n\n    $window.unbind('resize.' + prefix);\n\n    // remove the modal so that it doesn't influence the document width/height\n    $box.css({top: -9e4, left: -9e4});\n\n    scrollTop = $window.scrollTop();\n    scrollLeft = $window.scrollLeft();\n\n    if (settings.get('fixed')) {\n      offset.top -= scrollTop;\n      offset.left -= scrollLeft;\n      $box.css({position: 'fixed'});\n    } else {\n      top = scrollTop;\n      left = scrollLeft;\n      $box.css({position: 'absolute'});\n    }\n\n    // keeps the top and left positions within the browser's viewport.\n    if (settings.get('right') !== false) {\n      left += Math.max($window.width() - settings.w - loadedWidth - interfaceWidth - setSize(settings.get('right'), 'x'), 0);\n    } else if (settings.get('left') !== false) {\n      left += setSize(settings.get('left'), 'x');\n    } else {\n      left += Math.round(Math.max($window.width() - settings.w - loadedWidth - interfaceWidth, 0) / 2);\n    }\n\n    if (settings.get('bottom') !== false) {\n      top += Math.max(winheight() - settings.h - loadedHeight - interfaceHeight - setSize(settings.get('bottom'), 'y'), 0);\n    } else if (settings.get('top') !== false) {\n      top += setSize(settings.get('top'), 'y');\n    } else {\n      top += Math.round(Math.max(winheight() - settings.h - loadedHeight - interfaceHeight, 0) / 2);\n    }\n\n    $box.css({top: offset.top, left: offset.left, visibility:'visible'});\n\n    // this gives the wrapper plenty of breathing room so it's floated contents can move around smoothly,\n    // but it has to be shrank down around the size of div#colorbox when it's done.  If not,\n    // it can invoke an obscure IE bug when using iframes.\n    $wrap[0].style.width = $wrap[0].style.height = \"9999px\";\n\n    function modalDimensions() {\n      $topBorder[0].style.width = $bottomBorder[0].style.width = $content[0].style.width = (parseInt($box[0].style.width,10) - interfaceWidth)+'px';\n      $content[0].style.height = $leftBorder[0].style.height = $rightBorder[0].style.height = (parseInt($box[0].style.height,10) - interfaceHeight)+'px';\n    }\n\n    css = {width: settings.w + loadedWidth + interfaceWidth, height: settings.h + loadedHeight + interfaceHeight, top: top, left: left};\n\n    // setting the speed to 0 if the content hasn't changed size or position\n    if (speed) {\n      var tempSpeed = 0;\n      $.each(css, function(i){\n        if (css[i] !== previousCSS[i]) {\n          tempSpeed = speed;\n          return;\n        }\n      });\n      speed = tempSpeed;\n    }\n\n    previousCSS = css;\n\n    if (!speed) {\n      $box.css(css);\n    }\n\n    $box.dequeue().animate(css, {\n      duration: speed || 0,\n      complete: function () {\n        modalDimensions();\n\n        active = false;\n\n        // shrink the wrapper down to exactly the size of colorbox to avoid a bug in IE's iframe implementation.\n        $wrap[0].style.width = (settings.w + loadedWidth + interfaceWidth) + \"px\";\n        $wrap[0].style.height = (settings.h + loadedHeight + interfaceHeight) + \"px\";\n\n        if (settings.get('reposition')) {\n          setTimeout(function () {  // small delay before binding onresize due to an IE8 bug.\n            $window.bind('resize.' + prefix, publicMethod.position);\n          }, 1);\n        }\n\n        if ($.isFunction(loadedCallback)) {\n          loadedCallback();\n        }\n      },\n      step: modalDimensions\n    });\n  };\n\n  publicMethod.resize = function (options) {\n    var scrolltop;\n\n    if (open) {\n      options = options || {};\n\n      if (options.width) {\n        settings.w = setSize(options.width, 'x') - loadedWidth - interfaceWidth;\n      }\n\n      if (options.innerWidth) {\n        settings.w = setSize(options.innerWidth, 'x');\n      }\n\n      $loaded.css({width: settings.w});\n\n      if (options.height) {\n        settings.h = setSize(options.height, 'y') - loadedHeight - interfaceHeight;\n      }\n\n      if (options.innerHeight) {\n        settings.h = setSize(options.innerHeight, 'y');\n      }\n\n      if (!options.innerHeight && !options.height) {\n        scrolltop = $loaded.scrollTop();\n        $loaded.css({height: \"auto\"});\n        settings.h = $loaded.height();\n      }\n\n      $loaded.css({height: settings.h});\n\n      if(scrolltop) {\n        $loaded.scrollTop(scrolltop);\n      }\n\n      publicMethod.position(settings.get('transition') === \"none\" ? 0 : settings.get('speed'));\n    }\n  };\n\n  publicMethod.prep = function (object) {\n    if (!open) {\n      return;\n    }\n\n    var callback, speed = settings.get('transition') === \"none\" ? 0 : settings.get('speed');\n\n    $loaded.remove();\n\n    $loaded = $tag(div, 'LoadedContent').append(object);\n\n    function getWidth() {\n      settings.w = settings.w || $loaded.width();\n      settings.w = settings.mw && settings.mw < settings.w ? settings.mw : settings.w;\n      return settings.w;\n    }\n    function getHeight() {\n      settings.h = settings.h || $loaded.height();\n      settings.h = settings.mh && settings.mh < settings.h ? settings.mh : settings.h;\n      return settings.h;\n    }\n\n    $loaded.hide()\n    .appendTo($loadingBay.show())// content has to be appended to the DOM for accurate size calculations.\n    .css({width: getWidth(), overflow: settings.get('scrolling') ? 'auto' : 'hidden'})\n    .css({height: getHeight()})// sets the height independently from the width in case the new width influences the value of height.\n    .prependTo($content);\n\n    $loadingBay.hide();\n\n    // floating the IMG removes the bottom line-height and fixed a problem where IE miscalculates the width of the parent element as 100% of the document width.\n\n    $(photo).css({'float': 'none'});\n\n    setClass(settings.get('className'));\n\n    callback = function () {\n      var total = $related.length,\n        iframe,\n        complete;\n\n      if (!open) {\n        return;\n      }\n\n      function removeFilter() { // Needed for IE8 in versions of jQuery prior to 1.7.2\n        if ($.support.opacity === false) {\n          $box[0].style.removeAttribute('filter');\n        }\n      }\n\n      complete = function () {\n        clearTimeout(loadingTimer);\n        $loadingOverlay.hide();\n        trigger(event_complete);\n        settings.get('onComplete');\n      };\n\n\n      $title.html(settings.get('title')).show();\n      $loaded.show();\n\n      if (total > 1) { // handle grouping\n        if (typeof settings.get('current') === \"string\") {\n          $current.html(settings.get('current').replace('{current}', index + 1).replace('{total}', total)).show();\n        }\n\n        $next[(settings.get('loop') || index < total - 1) ? \"show\" : \"hide\"]().html(settings.get('next'));\n        $prev[(settings.get('loop') || index) ? \"show\" : \"hide\"]().html(settings.get('previous'));\n\n        slideshow();\n\n        // Preloads images within a rel group\n        if (settings.get('preloading')) {\n          $.each([getIndex(-1), getIndex(1)], function(){\n            var img,\n              i = $related[this],\n              settings = new Settings(i, $.data(i, colorbox)),\n              src = settings.get('href');\n\n            if (src && isImage(settings, src)) {\n              src = retinaUrl(settings, src);\n              img = document.createElement('img');\n              img.src = src;\n            }\n          });\n        }\n      } else {\n        $groupControls.hide();\n      }\n\n      if (settings.get('iframe')) {\n\n        iframe = settings.get('createIframe');\n\n        if (!settings.get('scrolling')) {\n          iframe.scrolling = \"no\";\n        }\n\n        $(iframe)\n          .attr({\n            src: settings.get('href'),\n            'class': prefix + 'Iframe'\n          })\n          .one('load', complete)\n          .appendTo($loaded);\n\n        $events.one(event_purge, function () {\n          iframe.src = \"//about:blank\";\n        });\n\n        if (settings.get('fastIframe')) {\n          $(iframe).trigger('load');\n        }\n      } else {\n        complete();\n      }\n\n      if (settings.get('transition') === 'fade') {\n        $box.fadeTo(speed, 1, removeFilter);\n      } else {\n        removeFilter();\n      }\n    };\n\n    if (settings.get('transition') === 'fade') {\n      $box.fadeTo(speed, 0, function () {\n        publicMethod.position(0, callback);\n      });\n    } else {\n      publicMethod.position(speed, callback);\n    }\n  };\n\n  function load () {\n    var href, setResize, prep = publicMethod.prep, $inline, request = ++requests;\n\n    active = true;\n\n    photo = false;\n\n    trigger(event_purge);\n    trigger(event_load);\n    settings.get('onLoad');\n\n    settings.h = settings.get('height') ?\n        setSize(settings.get('height'), 'y') - loadedHeight - interfaceHeight :\n        settings.get('innerHeight') && setSize(settings.get('innerHeight'), 'y');\n\n    settings.w = settings.get('width') ?\n        setSize(settings.get('width'), 'x') - loadedWidth - interfaceWidth :\n        settings.get('innerWidth') && setSize(settings.get('innerWidth'), 'x');\n\n    // Sets the minimum dimensions for use in image scaling\n    settings.mw = settings.w;\n    settings.mh = settings.h;\n\n    // Re-evaluate the minimum width and height based on maxWidth and maxHeight values.\n    // If the width or height exceed the maxWidth or maxHeight, use the maximum values instead.\n    if (settings.get('maxWidth')) {\n      settings.mw = setSize(settings.get('maxWidth'), 'x') - loadedWidth - interfaceWidth;\n      settings.mw = settings.w && settings.w < settings.mw ? settings.w : settings.mw;\n    }\n    if (settings.get('maxHeight')) {\n      settings.mh = setSize(settings.get('maxHeight'), 'y') - loadedHeight - interfaceHeight;\n      settings.mh = settings.h && settings.h < settings.mh ? settings.h : settings.mh;\n    }\n\n    href = settings.get('href');\n\n    loadingTimer = setTimeout(function () {\n      $loadingOverlay.show();\n    }, 100);\n\n    if (settings.get('inline')) {\n      var $target = $(href).eq(0);\n      // Inserts an empty placeholder where inline content is being pulled from.\n      // An event is bound to put inline content back when Colorbox closes or loads new content.\n      $inline = $('<div>').hide().insertBefore($target);\n\n      $events.one(event_purge, function () {\n        $inline.replaceWith($target);\n      });\n\n      prep($target);\n    } else if (settings.get('iframe')) {\n      // IFrame element won't be added to the DOM until it is ready to be displayed,\n      // to avoid problems with DOM-ready JS that might be trying to run in that iframe.\n      prep(\" \");\n    } else if (settings.get('html')) {\n      prep(settings.get('html'));\n    } else if (isImage(settings, href)) {\n\n      href = retinaUrl(settings, href);\n\n      photo = settings.get('createImg');\n\n      $(photo)\n      .addClass(prefix + 'Photo')\n      .bind('error.'+prefix,function () {\n        prep($tag(div, 'Error').html(settings.get('imgError')));\n      })\n      .one('load', function () {\n        if (request !== requests) {\n          return;\n        }\n\n        // A small pause because some browsers will occasionally report a\n        // img.width and img.height of zero immediately after the img.onload fires\n        setTimeout(function(){\n          var percent;\n\n          if (settings.get('retinaImage') && window.devicePixelRatio > 1) {\n            photo.height = photo.height / window.devicePixelRatio;\n            photo.width = photo.width / window.devicePixelRatio;\n          }\n\n          if (settings.get('scalePhotos')) {\n            setResize = function () {\n              photo.height -= photo.height * percent;\n              photo.width -= photo.width * percent;\n            };\n            if (settings.mw && photo.width > settings.mw) {\n              percent = (photo.width - settings.mw) / photo.width;\n              setResize();\n            }\n            if (settings.mh && photo.height > settings.mh) {\n              percent = (photo.height - settings.mh) / photo.height;\n              setResize();\n            }\n          }\n\n          if (settings.h) {\n            photo.style.marginTop = Math.max(settings.mh - photo.height, 0) / 2 + 'px';\n          }\n\n          if ($related[1] && (settings.get('loop') || $related[index + 1])) {\n            photo.style.cursor = 'pointer';\n\n            $(photo).bind('click.'+prefix, function () {\n              publicMethod.next();\n            });\n          }\n\n          photo.style.width = photo.width + 'px';\n          photo.style.height = photo.height + 'px';\n          prep(photo);\n        }, 1);\n      });\n\n      photo.src = href;\n\n    } else if (href) {\n      $loadingBay.load(href, settings.get('data'), function (data, status) {\n        if (request === requests) {\n          prep(status === 'error' ? $tag(div, 'Error').html(settings.get('xhrError')) : $(this).contents());\n        }\n      });\n    }\n  }\n\n  // Navigates to the next page/image in a set.\n  publicMethod.next = function () {\n    if (!active && $related[1] && (settings.get('loop') || $related[index + 1])) {\n      index = getIndex(1);\n      launch($related[index]);\n    }\n  };\n\n  publicMethod.prev = function () {\n    if (!active && $related[1] && (settings.get('loop') || index)) {\n      index = getIndex(-1);\n      launch($related[index]);\n    }\n  };\n\n  // Note: to use this within an iframe use the following format: parent.jQuery.colorbox.close();\n  publicMethod.close = function () {\n    if (open && !closing) {\n\n      closing = true;\n      open = false;\n      trigger(event_cleanup);\n      settings.get('onCleanup');\n      $window.unbind('.' + prefix);\n      $overlay.fadeTo(settings.get('fadeOut') || 0, 0);\n\n      $box.stop().fadeTo(settings.get('fadeOut') || 0, 0, function () {\n        $box.hide();\n        $overlay.hide();\n        trigger(event_purge);\n        $loaded.remove();\n\n        setTimeout(function () {\n          closing = false;\n          trigger(event_closed);\n          settings.get('onClosed');\n        }, 1);\n      });\n    }\n  };\n\n  // Removes changes Colorbox made to the document, but does not remove the plugin.\n  publicMethod.remove = function () {\n    if (!$box) { return; }\n\n    $box.stop();\n    $[colorbox].close();\n    $box.stop(false, true).remove();\n    $overlay.remove();\n    closing = false;\n    $box = null;\n    $('.' + boxElement)\n      .removeData(colorbox)\n      .removeClass(boxElement);\n\n    $(document).unbind('click.'+prefix).unbind('keydown.'+prefix);\n  };\n\n  // A method for fetching the current element Colorbox is referencing.\n  // returns a jQuery object.\n  publicMethod.element = function () {\n    return $(settings.el);\n  };\n\n  publicMethod.settings = defaults;\n\n}(jQuery, document, window));\n"],"file":"jquery.colorbox.js"}