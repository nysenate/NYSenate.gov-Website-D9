{"version":3,"sources":["src/patterns/components/main-menu/main-menu.js"],"names":["document","Drupal","$","behaviors","mainMenu","attach","context","$navicon","$menuItemToggle","keyup","e","which","hasClass","trigger","each","$this","parent","click","toggleClass","hover","is","addClass","children","attr","removeClass","siblings","window","resize","jQuery"],"mappings":"AAAA,CAAE,UAACA,QAAD,EAAWC,MAAX,EAAmBC,CAAnB,EAAyB;AACzB;;AACAD,EAAAA,MAAM,CAACE,SAAP,CAAiBC,QAAjB,GAA4B;AAC1BC,IAAAA,MAAM,EAAE,gBAAUC,OAAV,EAAmB;AACzB,UAAMC,QAAQ,GAAGL,CAAC,CAAC,qBAAD,EAAwBI,OAAxB,CAAlB;AACA,UAAME,eAAe,GAAGN,CAAC,CAAC,mBAAD,EAAsBI,OAAtB,CAAzB;AAEAJ,MAAAA,CAAC,CAACF,QAAD,CAAD,CAAYS,KAAZ,CAAkB,UAASC,CAAT,EAAY;AAC5B;AACA,YAAIA,CAAC,CAACC,KAAF,KAAY,EAAhB,EAAoB;AAClB,cAAIJ,QAAQ,CAACK,QAAT,CAAkB,QAAlB,CAAJ,EAAiC;AAC/BL,YAAAA,QAAQ,CAACM,OAAT,CAAiB,OAAjB;AACD;;AAEDL,UAAAA,eAAe,CAACM,IAAhB,CAAqB,YAAW;AAC9B,gBAAMC,KAAK,GAAGb,CAAC,CAAC,IAAD,CAAf;;AACA,gBAAIa,KAAK,CAACC,MAAN,GAAeJ,QAAf,CAAwB,SAAxB,CAAJ,EAAwC;AACtCG,cAAAA,KAAK,CAACF,OAAN,CAAc,OAAd;AACD;AACF,WALD;AAMD;AACF,OAdD;AAgBAN,MAAAA,QAAQ,CAACU,KAAT,CAAe,YAAY;AACzBf,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgB,WAAR,CAAoB,QAApB;AACAhB,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBgB,WAAhB,CAA4B,QAA5B;AACD,OAHD;AAKAhB,MAAAA,CAAC,CAAC,2BAAD,EAA8BI,OAA9B,CAAD,CAAwCa,KAAxC,CACE,YAAY;AACV;AACA,YAAIjB,CAAC,CAAC,qBAAD,EAAwBI,OAAxB,CAAD,CAAkCc,EAAlC,CAAqC,SAArC,CAAJ,EAAqD;AACnDlB,UAAAA,CAAC,CAAC,IAAD,CAAD,CACGmB,QADH,CACY,SADZ,EAEGC,QAFH,CAEY,GAFZ,EAGGC,IAHH,CAGQ,eAHR,EAGyB,MAHzB;AAID;AACF,OATH,EAUE,YAAY;AACV,YAAIrB,CAAC,CAAC,qBAAD,EAAwBI,OAAxB,CAAD,CAAkCc,EAAlC,CAAqC,SAArC,CAAJ,EAAqD;AACnD;AACAlB,UAAAA,CAAC,CAAC,IAAD,CAAD,CACGsB,WADH,CACe,SADf,EAEGF,QAFH,CAEY,GAFZ,EAGGC,IAHH,CAGQ,eAHR,EAGyB,OAHzB;AAID;AACF,OAlBH;AAqBAf,MAAAA,eAAe,CAACS,KAAhB,CAAsB,YAAY;AAChC,YAAMF,KAAK,GAAGb,CAAC,CAAC,IAAD,CAAf;;AACA,YAAIa,KAAK,CAACC,MAAN,GAAeJ,QAAf,CAAwB,SAAxB,CAAJ,EAAwC;AACtCG,UAAAA,KAAK,CAACC,MAAN,GAAeQ,WAAf,CAA2B,SAA3B;AACAT,UAAAA,KAAK,CAACU,QAAN,CAAe,GAAf,EAAoBF,IAApB,CAAyB,eAAzB,EAA0C,OAA1C;AACD,SAHD,MAIK;AACHR,UAAAA,KAAK,CAACC,MAAN,GAAeK,QAAf,CAAwB,SAAxB;AACAN,UAAAA,KAAK,CAACU,QAAN,CAAe,GAAf,EAAoBF,IAApB,CAAyB,eAAzB,EAA0C,MAA1C;AACD;AACF,OAVD;AAYArB,MAAAA,CAAC,CAACwB,MAAD,CAAD,CAAUC,MAAV,CAAiB,YAAY;AAC3BzB,QAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+BsB,WAA/B,CAA2C,SAA3C;AACD,OAFD;AAGD;AA9DyB,GAA5B;AAgED,CAlEA,CAkEExB,QAlEF,EAkEYC,MAlEZ,EAkEoB2B,MAlEpB,CAAD","sourcesContent":["!((document, Drupal, $) => {\n  'use strict';\n  Drupal.behaviors.mainMenu = {\n    attach: function (context) {\n      const $navicon = $('.main-menu__navicon', context);\n      const $menuItemToggle = $('.menu-item-toggle', context);\n\n      $(document).keyup(function(e) {\n        // `27` is the code for the escape key.\n        if (e.which === 27) {\n          if ($navicon.hasClass('active')) {\n            $navicon.trigger('click');\n          }\n\n          $menuItemToggle.each(function() {\n            const $this = $(this);\n            if ($this.parent().hasClass('js-open')) {\n              $this.trigger('click');\n            }\n          });\n        }\n      });\n\n      $navicon.click(function () {\n        $(this).toggleClass('active');\n        $('.main-menu').toggleClass('active');\n      });\n\n      $('li.menu-item--has-submenu', context).hover(\n        function () {\n          // Mouse enter.\n          if ($('.main-menu__navicon', context).is(':hidden')) {\n            $(this)\n              .addClass('js-open')\n              .children('a')\n              .attr('aria-expanded', 'true');\n          }\n        },\n        function () {\n          if ($('.main-menu__navicon', context).is(':hidden')) {\n            // Mouse leave.\n            $(this)\n              .removeClass('js-open')\n              .children('a')\n              .attr('aria-expanded', 'false');\n          }\n        }\n      );\n\n      $menuItemToggle.click(function () {\n        const $this = $(this);\n        if ($this.parent().hasClass('js-open')) {\n          $this.parent().removeClass('js-open');\n          $this.siblings('a').attr('aria-expanded', 'false');\n        }\n        else {\n          $this.parent().addClass('js-open');\n          $this.siblings('a').attr('aria-expanded', 'true');\n        }\n      });\n\n      $(window).resize(function () {\n        $('li.menu-item--has-submenu').removeClass('js-open');\n      });\n    }\n  };\n})(document, Drupal, jQuery);\n"],"file":"main-menu.js"}