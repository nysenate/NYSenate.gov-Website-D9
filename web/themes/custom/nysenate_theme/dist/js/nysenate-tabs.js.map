{"version":3,"sources":["src/patterns/components/nysenate-tabs/nysenate-tabs.js"],"names":["document","Drupal","$","behaviors","nysenateTabs","attach","tabContainer","tabLink","textExpander","loadMore","each","tabArrowDown","find","tabInput","length","append","is","parent","addClass","on","tabInputContainer","tabContent","removeAttr","removeClass","attr","val","toggleTabDropdown","click","link","expander","closest","prev","lineCount","data","anchor","slideToggle","animate","scrollTop","offset","top","html","items","css","slice","show","itemsHidden","e","preventDefault","slideDown","tab","tabBar","parents","billVersion","split","newUrl","history","pushState","hasClass","jQuery"],"mappings":"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","sourcesContent":["!((document, Drupal, $) => {\n  'use strict';\n  Drupal.behaviors.nysenateTabs = {\n    attach: function () {\n      const tabContainer = $('.l-tab-bar');\n      const tabLink = $('.c-tab .c-tab-link');\n      const textExpander = $('.text-expander');\n      const loadMore = $('.load-more');\n\n      tabContainer.each(function () {\n        const tabArrowDown = $(this).find('.c-tab--arrow');\n        const tabInput = $(this).find('input.form-radio');\n\n        if (tabArrowDown.length < 1) {\n          $(this).append('<div class=\"c-tab--arrow u-mobile-only\"></div>');\n        }\n\n        tabInput.each(function () {\n          if ($(this).is(':checked')) {\n            $(this).parent().addClass('active');\n          }\n        });\n\n        tabInput.on('click', function () {\n          const tabInputContainer = tabInput.parent();\n          const tabContent = tabInputContainer\n            .parent()\n            .parent()\n            .find('.tabs-content');\n\n          tabInput.removeAttr('checked');\n          tabInputContainer.removeClass('active');\n\n          $(this).attr('checked', 'checked');\n          $(this).parent().addClass('active');\n\n          tabContent.find('.active').removeClass('active');\n          tabContent.find($(this).val()).addClass('active');\n        });\n      });\n\n      tabLink.on('click', this.toggleTabDropdown);\n\n      // event for text expander\n      if (textExpander) {\n        textExpander.click(function () {\n          const link = $(this);\n          const expander = link.closest('.item-list').prev();\n          const lineCount = expander.data('linecount');\n          const anchor = expander.prev();\n\n          expander.slideToggle(0);\n\n          if (expander.is(':hidden')) {\n            $('html,body').animate({ scrollTop: anchor.offset().top - 180 });\n            link.html('View More (' + lineCount + ' Lines)');\n            link.removeClass('expanded');\n          }\n          else {\n            $('html,body').animate({ scrollTop: expander.offset().top - 180 });\n            link.html('View Less');\n            link.addClass('expanded');\n          }\n        });\n      }\n\n      // event for load more\n      if (loadMore) {\n        loadMore.each(function () {\n          const items = $(this)\n            .closest('.pager-load-more')\n            .parent()\n            .find('.content__item');\n\n          items.css('display', 'none');\n\n          items.slice(0, 5).show();\n\n          let itemsHidden = $(this)\n            .closest('.pager-load-more')\n            .parent()\n            .find('.content__item:hidden');\n\n          $(this).on('click', function(e) {\n            e.preventDefault();\n\n            itemsHidden.slice(0, 5).slideDown();\n\n            itemsHidden = $(this)\n              .closest('.pager-load-more')\n              .parent()\n              .find('.content__item:hidden');\n\n            if(itemsHidden.length === 0) {\n              $(this).css('display', 'none');\n            }\n          });\n        });\n      }\n    },\n    toggleTabDropdown: function (e) {\n      e.preventDefault();\n\n      const tab = $(this).parent('.c-tab');\n      const tabBar = $(this).parents('.l-tab-bar');\n      const billVersion = tab.data('version').split('-');\n      const newUrl = tab.data('target');\n\n      if (billVersion && newUrl) {\n        const tabContent = tab.closest('.c-bill--amendment-details').parent().find('.tabs-content');\n\n        history.pushState({}, 'NY State Senate Bill ' + billVersion[1], newUrl);\n\n        tabContent.find('.active').removeClass('active');\n        tabContent.find($(this).val()).addClass('active');\n      }\n\n      if (tab.hasClass('active') && !tabBar.hasClass('open')) {\n        tabBar.addClass('open');\n      }\n      else {\n        tabBar.removeClass('open');\n      }\n    }\n  };\n})(document, Drupal, jQuery);\n"],"file":"nysenate-tabs.js"}