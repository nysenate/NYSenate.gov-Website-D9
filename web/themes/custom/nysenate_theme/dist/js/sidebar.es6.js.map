{"version":3,"sources":["src/patterns/components/sidebar/sidebar.es6.js"],"names":["document","Drupal","$","behaviors","sidebar","attach","context","$this","sidebarToggle","header","once","each","sidebarToggleInit","window","resize","debounce","onResize","headerBottom","hasClass","parseInt","css","offset","top","height","err","func","timeout","timer","args","clearTimeout","setTimeout","apply","click","e","stopImmediatePropagation","body","removeClass","addClass","jQuery"],"mappings":"AAAA;;;;;AAIA;AAEA,CAAE,UAACA,QAAD,EAAWC,MAAX,EAAmBC,CAAnB,EAAyB;AACzB;AAEA;;;;;;AAKAD,EAAAA,MAAM,CAACE,SAAP,CAAiBC,OAAjB,GAA2B;AACzBC,IAAAA,MAAM,EAAE,gBAAUC,OAAV,EAAmB;AACzB,UAAMC,KAAK,GAAG,IAAd;AACA,UAAMC,aAAa,GAAGN,CAAC,CAAC,iBAAD,EAAoBI,OAApB,CAAvB;AACA,UAAMG,MAAM,GAAGP,CAAC,CAAC,uBAAD,CAAhB;AAEAM,MAAAA,aAAa,CAACE,IAAd,CAAmB,eAAnB,EAAoCC,IAApC,CAAyCJ,KAAK,CAACK,iBAA/C;AACAV,MAAAA,CAAC,CAACW,MAAD,CAAD,CAAUC,MAAV,CAAiBP,KAAK,CAACQ,QAAN,CAAe;AAAA,eAAMR,KAAK,CAACS,QAAN,CAAeR,aAAf,CAAN;AAAA,OAAf,CAAjB;AACAD,MAAAA,KAAK,CAACS,QAAN,CAAeP,MAAf;AACD,KATwB;AAUzBO,IAAAA,QAAQ,EAAE,kBAAUP,MAAV,EAAkB;AAC1B,UAAI;AACF,YAAMQ,YAAY,GAChB,CAACR,MAAM,CAACS,QAAP,CAAgB,OAAhB,IACGC,QAAQ,CAACV,MAAM,CAACW,GAAP,CAAW,KAAX,CAAD,EAAoB,EAApB,CADX,GAEGX,MAAM,CAACY,MAAP,GAAgBC,GAFpB,IAE2Bb,MAAM,CAACc,MAAP,EAH7B;AAIA,YAAMnB,OAAO,GAAGF,CAAC,CAAC,UAAD,CAAjB;AACAE,QAAAA,OAAO,CAACgB,GAAR,CAAY,OAAZ,YAAwBH,YAAxB;AACD,OAPD,CAQA,OAAOO,GAAP,EAAY;AACV,eAAOA,GAAP;AACD;AACF,KAtBwB;AAuBzBT,IAAAA,QAAQ,EAAE,kBAAUU,IAAV,EAA+B;AAAA;;AAAA,UAAfC,OAAe,uEAAL,GAAK;AACvC,UAAIC,KAAJ;AACA,aAAO,YAAa;AAAA,0CAATC,IAAS;AAATA,UAAAA,IAAS;AAAA;;AAClBC,QAAAA,YAAY,CAACF,KAAD,CAAZ;AACAA,QAAAA,KAAK,GAAGG,UAAU,CAAC,YAAM;AACvBL,UAAAA,IAAI,CAACM,KAAL,CAAW,KAAX,EAAiBH,IAAjB;AACD,SAFiB,EAEfF,OAFe,CAAlB;AAGD,OALD;AAMD,KA/BwB;AAgCzBd,IAAAA,iBAAiB,EAAE,6BAAY;AAC7B,UAAMJ,aAAa,GAAGN,CAAC,CAAC,IAAD,CAAvB;AAEAM,MAAAA,aAAa,CAACwB,KAAd,CAAoB,UAAUC,CAAV,EAAa;AAC/BA,QAAAA,CAAC,CAACC,wBAAF;AAEA,YAAM9B,OAAO,GAAGF,CAAC,CAAC,UAAD,CAAjB;AACA,YAAMiC,IAAI,GAAGjC,CAAC,CAAC,MAAD,CAAd;;AAEA,YAAIE,OAAO,CAACc,QAAR,CAAiB,MAAjB,CAAJ,EAA8B;AAC5Bd,UAAAA,OAAO,CAACgC,WAAR,CAAoB,MAApB;AACAD,UAAAA,IAAI,CAACC,WAAL,CAAiB,cAAjB;AACAlC,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQkC,WAAR,CAAoB,MAApB;AACD,SAJD,MAKK;AACHhC,UAAAA,OAAO,CAACiC,QAAR,CAAiB,MAAjB;AACAF,UAAAA,IAAI,CAACE,QAAL,CAAc,cAAd;AACAnC,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQmC,QAAR,CAAiB,MAAjB;AACD;AACF,OAhBD;AAiBD;AApDwB,GAA3B;AAsDD,CA9DA,CA8DErC,QA9DF,EA8DYC,MA9DZ,EA8DoBqC,MA9DpB,CAAD","sourcesContent":["/**\n * @file\n * Behaviors for the Sidebar.\n */\n/* eslint-disable max-len */\n\n!((document, Drupal, $) => {\n  'use strict';\n\n  /**\n   * Setup and attach the Sidebar behaviors.\n   *\n   * @type {Drupal~behavior}\n   */\n  Drupal.behaviors.sidebar = {\n    attach: function (context) {\n      const $this = this;\n      const sidebarToggle = $('.sidebar-toggle', context);\n      const header = $('#js-sticky--dashboard');\n\n      sidebarToggle.once('sidebarToggle').each($this.sidebarToggleInit);\n      $(window).resize($this.debounce(() => $this.onResize(sidebarToggle)));\n      $this.onResize(header);\n    },\n    onResize: function (header) {\n      try {\n        const headerBottom =\n          (header.hasClass('fixed')\n            ? parseInt(header.css('top'), 10)\n            : header.offset().top) + header.height();\n        const sidebar = $('.sidebar');\n        sidebar.css('--top', `${headerBottom}px`);\n      }\n      catch (err) {\n        return err;\n      }\n    },\n    debounce: function (func, timeout = 300) {\n      let timer;\n      return (...args) => {\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n          func.apply(this, args);\n        }, timeout);\n      };\n    },\n    sidebarToggleInit: function () {\n      const sidebarToggle = $(this);\n\n      sidebarToggle.click(function (e) {\n        e.stopImmediatePropagation();\n\n        const sidebar = $('.sidebar');\n        const body = $('body');\n\n        if (sidebar.hasClass('show')) {\n          sidebar.removeClass('show');\n          body.removeClass('sidebar-open');\n          $(this).removeClass('show');\n        }\n        else {\n          sidebar.addClass('show');\n          body.addClass('sidebar-open');\n          $(this).addClass('show');\n        }\n      });\n    }\n  };\n})(document, Drupal, jQuery);\n"],"file":"sidebar.es6.js"}