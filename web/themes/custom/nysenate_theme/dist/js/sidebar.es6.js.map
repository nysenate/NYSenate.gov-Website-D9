{"version":3,"sources":["src/patterns/components/sidebar/sidebar.es6.js"],"names":["document","Drupal","$","behaviors","sidebar","attach","context","$this","sidebarToggle","once","each","click","body","hasClass","removeClass","addClass","window","resize","debounce","onResize","sidebarToggleBottom","offset","top","outerHeight","css","func","timeout","timer","args","clearTimeout","setTimeout","apply","jQuery"],"mappings":"AAAA;;;;;AAIA;AAEA,CAAE,UAACA,QAAD,EAAWC,MAAX,EAAmBC,CAAnB,EAAyB;AACzB;AAEA;;;;;;AAKAD,EAAAA,MAAM,CAACE,SAAP,CAAiBC,OAAjB,GAA2B;AACzBC,IAAAA,MAAM,EAAE,gBAAUC,OAAV,EAAmB;AACzB,UAAMC,KAAK,GAAG,IAAd;AACA,UAAMC,aAAa,GAAGN,CAAC,CAAC,iBAAD,EAAoBI,OAApB,CAAvB;AAEAE,MAAAA,aAAa,CAACC,IAAd,CAAmB,eAAnB,EAAoCC,IAApC,CAAyC,YAAY;AACnD,YAAMF,aAAa,GAAGN,CAAC,CAAC,IAAD,CAAvB;AAEAM,QAAAA,aAAa,CAACG,KAAd,CAAoB,YAAY;AAC9B,cAAMP,OAAO,GAAGF,CAAC,CAAC,UAAD,CAAjB;AACA,cAAMU,IAAI,GAAGV,CAAC,CAAC,MAAD,CAAd;;AAEA,cAAIE,OAAO,CAACS,QAAR,CAAiB,MAAjB,CAAJ,EAA8B;AAC5BT,YAAAA,OAAO,CAACU,WAAR,CAAoB,MAApB;AACAF,YAAAA,IAAI,CAACE,WAAL,CAAiB,eAAjB;AACAZ,YAAAA,CAAC,CAAC,IAAD,CAAD,CAAQY,WAAR,CAAoB,MAApB;AACD,WAJD,MAKK;AACHV,YAAAA,OAAO,CAACW,QAAR,CAAiB,MAAjB;AACAH,YAAAA,IAAI,CAACG,QAAL,CAAc,eAAd;AACAb,YAAAA,CAAC,CAAC,IAAD,CAAD,CAAQa,QAAR,CAAiB,MAAjB;AACD;AACF,SAdD;AAeAb,QAAAA,CAAC,CAACc,MAAD,CAAD,CAAUC,MAAV,CAAiBV,KAAK,CAACW,QAAN,CAAe;AAAA,iBAAMX,KAAK,CAACY,QAAN,CAAeX,aAAf,CAAN;AAAA,SAAf,CAAjB;AACD,OAnBD;AAqBAD,MAAAA,KAAK,CAACY,QAAN,CAAeX,aAAf;AACD,KA3BwB;AA4BzBW,IAAAA,QAAQ,EAAE,kBAAUX,aAAV,EAAyB;AACjC,UAAMY,mBAAmB,GACvBZ,aAAa,CAACa,MAAd,GAAuBC,GAAvB,GAA6Bd,aAAa,CAACe,WAAd,EAD/B;AAEA,UAAMnB,OAAO,GAAGF,CAAC,CAAC,UAAD,CAAjB;AACAE,MAAAA,OAAO,CAACoB,GAAR,CAAY,OAAZ,YAAwBJ,mBAAxB;AACD,KAjCwB;AAkCzBF,IAAAA,QAAQ,EAAE,kBAAUO,IAAV,EAA+B;AAAA;;AAAA,UAAfC,OAAe,uEAAL,GAAK;AACvC,UAAIC,KAAJ;AACA,aAAO,YAAa;AAAA,0CAATC,IAAS;AAATA,UAAAA,IAAS;AAAA;;AAClBC,QAAAA,YAAY,CAACF,KAAD,CAAZ;AACAA,QAAAA,KAAK,GAAGG,UAAU,CAAC,YAAM;AACvBL,UAAAA,IAAI,CAACM,KAAL,CAAW,KAAX,EAAiBH,IAAjB;AACD,SAFiB,EAEfF,OAFe,CAAlB;AAGD,OALD;AAMD;AA1CwB,GAA3B;AA4CD,CApDA,CAoDE1B,QApDF,EAoDYC,MApDZ,EAoDoB+B,MApDpB,CAAD","sourcesContent":["/**\n * @file\n * Behaviors for the Sidebar.\n */\n/* eslint-disable max-len */\n\n!((document, Drupal, $) => {\n  'use strict';\n\n  /**\n   * Setup and attach the Sidebar behaviors.\n   *\n   * @type {Drupal~behavior}\n   */\n  Drupal.behaviors.sidebar = {\n    attach: function (context) {\n      const $this = this;\n      const sidebarToggle = $('.sidebar-toggle', context);\n\n      sidebarToggle.once('sidebarToggle').each(function () {\n        const sidebarToggle = $(this);\n\n        sidebarToggle.click(function () {\n          const sidebar = $('.sidebar');\n          const body = $('body');\n\n          if (sidebar.hasClass('show')) {\n            sidebar.removeClass('show');\n            body.removeClass('.sidebar-open');\n            $(this).removeClass('show');\n          }\n          else {\n            sidebar.addClass('show');\n            body.addClass('.sidebar-open');\n            $(this).addClass('show');\n          }\n        });\n        $(window).resize($this.debounce(() => $this.onResize(sidebarToggle)));\n      });\n\n      $this.onResize(sidebarToggle);\n    },\n    onResize: function (sidebarToggle) {\n      const sidebarToggleBottom =\n        sidebarToggle.offset().top + sidebarToggle.outerHeight();\n      const sidebar = $('.sidebar');\n      sidebar.css('--top', `${sidebarToggleBottom}px`);\n    },\n    debounce: function (func, timeout = 300) {\n      let timer;\n      return (...args) => {\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n          func.apply(this, args);\n        }, timeout);\n      };\n    }\n  };\n})(document, Drupal, jQuery);\n"],"file":"sidebar.es6.js"}