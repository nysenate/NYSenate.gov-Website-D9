{"version":3,"sources":["src/patterns/components/submission-results/submission-results.js"],"names":["document","Drupal","$","behaviors","submissionResults","attach","yearFilter","URLSearchParams","window","location","search","has","param","get","selectBox","matchedOption","find","length","prop","filterButton","each","on","selectInput","parent","groupYearWrappers","closest","val","toString","css","parseInt","data","jQuery"],"mappings":"AAAA,CAAE,UAACA,QAAD,EAAWC,MAAX,EAAmBC,CAAnB,EAAyB;AACzB;;AACAD,EAAAA,MAAM,CAACE,SAAP,CAAiBC,iBAAjB,GAAqC;AACnCC,IAAAA,MAAM,EAAE,kBAAY;AAClB,UAAIC,UAAU,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAAjB;;AACA,UAAIJ,UAAU,CAACK,GAAX,CAAe,WAAf,CAAJ,EAAiC;AAC/B,YAAIC,KAAK,GAAGN,UAAU,CAACO,GAAX,CAAe,WAAf,CAAZ;AACA,YAAIC,SAAS,GAAGZ,CAAC,CAAC,aAAD,CAAjB;AACA,YAAIa,aAAa,GAAGD,SAAS,CAACE,IAAV,CAAe,mBAAmBJ,KAAnB,GAA2B,IAA1C,CAApB;;AACA,YAAIG,aAAa,CAACE,MAAlB,EAA0B;AACxBF,UAAAA,aAAa,CAACG,IAAd,CAAmB,UAAnB,EAA+B,IAA/B;AACD;AACF;;AACD,UAAMC,YAAY,GAAGjB,CAAC,CAAC,aAAD,CAAtB;;AACA,UAAIiB,YAAJ,EAAkB;AAChBA,QAAAA,YAAY,CAACC,IAAb,CAAkB,YAAY;AAC5BlB,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQmB,EAAR,CAAW,OAAX,EAAoB,YAAY;AAC9B,gBAAMC,WAAW,GAAGpB,CAAC,CAAC,IAAD,CAAD,CAAQqB,MAAR,GAAiBP,IAAjB,CAAsB,cAAtB,CAApB;AACA,gBAAMQ,iBAAiB,GAAGtB,CAAC,CAAC,IAAD,CAAD,CACvBqB,MADuB,GAEvBE,OAFuB,CAEf,yBAFe,EAGvBT,IAHuB,CAGlB,eAHkB,CAA1B;AAKAQ,YAAAA,iBAAiB,CAACJ,IAAlB,CAAuB,YAAY;AACjC,kBAAIE,WAAW,CAACI,GAAZ,GAAkBC,QAAlB,OAAiC,KAArC,EAA4C;AAC1CH,gBAAAA,iBAAiB,CAACI,GAAlB,CAAsB,SAAtB,EAAiC,OAAjC;AACD,eAFD,MAGK;AACH,oBACEC,QAAQ,CAAC3B,CAAC,CAAC,IAAD,CAAD,CAAQ4B,IAAR,CAAa,iBAAb,CAAD,CAAR,KACAD,QAAQ,CAACP,WAAW,CAACI,GAAZ,EAAD,CAFV,EAGE;AACAxB,kBAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ0B,GAAR,CAAY,SAAZ,EAAuB,MAAvB;AACD,iBALD,MAMK;AACH1B,kBAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ0B,GAAR,CAAY,SAAZ,EAAuB,OAAvB;AACD;AACF;AACF,aAfD;AAgBD,WAvBD;AAwBD,SAzBD;AA0BD;AACF;AAxCkC,GAArC;AA0CD,CA5CA,CA4CE5B,QA5CF,EA4CYC,MA5CZ,EA4CoB8B,MA5CpB,CAAD","sourcesContent":["!((document, Drupal, $) => {\n  'use strict';\n  Drupal.behaviors.submissionResults = {\n    attach: function () {\n      let yearFilter = new URLSearchParams(window.location.search);\n      if (yearFilter.has('edit-type')) {\n        let param = yearFilter.get('edit-type');\n        let selectBox = $('#edit-type-');\n        let matchedOption = selectBox.find('option[value=\"' + param + '\"]');\n        if (matchedOption.length) {\n          matchedOption.prop('selected', true);\n        }\n      }\n      const filterButton = $('.filter-btn');\n      if (filterButton) {\n        filterButton.each(function () {\n          $(this).on('click', function () {\n            const selectInput = $(this).parent().find('.form-select');\n            const groupYearWrappers = $(this)\n              .parent()\n              .closest('.c-committees-container')\n              .find('.c-group-year');\n\n            groupYearWrappers.each(function () {\n              if (selectInput.val().toString() === 'All') {\n                groupYearWrappers.css('display', 'block');\n              }\n              else {\n                if (\n                  parseInt($(this).data('attributes-year')) !==\n                  parseInt(selectInput.val())\n                ) {\n                  $(this).css('display', 'none');\n                }\n                else {\n                  $(this).css('display', 'block');\n                }\n              }\n            });\n          });\n        });\n      }\n    }\n  };\n})(document, Drupal, jQuery);\n"],"file":"submission-results.js"}