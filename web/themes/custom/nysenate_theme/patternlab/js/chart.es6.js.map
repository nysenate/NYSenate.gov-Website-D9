{"version":3,"sources":["src/patterns/components/chart/chart.es6.js"],"names":["document","Drupal","$","behaviors","chart","attach","context","once","each","index","$chart","find","colors","data","values","newId","attr","id","map","v","i","value","parseInt","y","sliced","selected","Highcharts","plotBackgroundColor","plotBorderWidth","plotShadow","type","width","height","title","text","tooltip","enabled","credits","plotOptions","pie","dataLabels","series","jQuery"],"mappings":"AAAA;;;;;AAIA;AAEA,CAAE,UAACA,QAAD,EAAWC,MAAX,EAAmBC,CAAnB,EAAyB;AACzB;AAEA;;;;;;AAKAD,EAAAA,MAAM,CAACE,SAAP,CAAiBC,KAAjB,GAAyB;AACvBC,IAAAA,MAAM,EAAE,gBAAUC,OAAV,EAAmB;AACzBJ,MAAAA,CAAC,CAAC,QAAD,EAAWI,OAAX,CAAD,CACGC,IADH,CACQ,WADR,EAEGC,IAFH,CAEQ,UAAUC,KAAV,EAAiB;AACrB,YAAMC,MAAM,GAAGR,CAAC,CAAC,IAAD,CAAD,CAAQS,IAAR,CAAa,KAAb,CAAf;AACA,YAAMC,MAAM,GAAGF,MAAM,CAACG,IAAP,CAAY,QAAZ,CAAf;AACA,YAAMC,MAAM,GAAGJ,MAAM,CAACG,IAAP,CAAY,QAAZ,CAAf;AACA,YAAME,KAAK,kBAAWN,KAAK,GAAG,CAAR,cAAgBA,KAAhB,IAA0B,EAArC,CAAX;AACAC,QAAAA,MAAM,CAACM,IAAP,CAAY,IAAZ,EAAkBD,KAAlB;AACA,YAAME,EAAE,GAAGP,MAAM,CAACM,IAAP,CAAY,IAAZ,CAAX;AAEA,YAAIH,IAAI,GAAG,EAAX;;AACA,YAAIC,MAAJ,EAAY;AACVD,UAAAA,IAAI,GAAGC,MAAM,CAACI,GAAP,CAAW,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAC1B,gBAAMC,KAAK,GAAGC,QAAQ,CAACH,CAAD,CAAtB;AACA,gBAAMI,CAAC,GACL,OAAOF,KAAP,KAAiB,QAAjB,GAA6BA,KAAK,IAAI,CAAT,GAAaA,KAAb,GAAqB,CAAlD,GAAuD,CADzD;;AAGA,gBAAID,CAAC,KAAK,CAAV,EAAa;AACX,qBAAO;AACLG,gBAAAA,CAAC,EAADA,CADK;AAELC,gBAAAA,MAAM,EAAE,IAFH;AAGLC,gBAAAA,QAAQ,EAAE;AAHL,eAAP;AAKD;;AACD,mBAAO;AAAEF,cAAAA,CAAC,EAADA;AAAF,aAAP;AACD,WAbM,CAAP;AAcD,SAxBoB,CA0BrB;;;AACAG,QAAAA,UAAU,CAACtB,KAAX,CAAiBa,EAAjB,EAAqB;AACnBL,UAAAA,MAAM,EAANA,MADmB;AAEnBR,UAAAA,KAAK,EAAE;AACLuB,YAAAA,mBAAmB,EAAE,IADhB;AAELC,YAAAA,eAAe,EAAE,IAFZ;AAGLC,YAAAA,UAAU,EAAE,KAHP;AAILC,YAAAA,IAAI,EAAE,KAJD;AAKLC,YAAAA,KAAK,EAAE,GALF;AAMLC,YAAAA,MAAM,EAAE;AANH,WAFY;AAUnBC,UAAAA,KAAK,EAAE;AACLC,YAAAA,IAAI,EAAE;AADD,WAVY;AAanBC,UAAAA,OAAO,EAAE;AACPC,YAAAA,OAAO,EAAE;AADF,WAbU;AAgBnBC,UAAAA,OAAO,EAAE;AACPD,YAAAA,OAAO,EAAE;AADF,WAhBU;AAmBnBE,UAAAA,WAAW,EAAE;AACXC,YAAAA,GAAG,EAAE;AACHC,cAAAA,UAAU,EAAE;AACVJ,gBAAAA,OAAO,EAAE;AADC;AADT;AADM,WAnBM;AA0BnBK,UAAAA,MAAM,EAAE,CACN;AACE5B,YAAAA,IAAI,EAAJA;AADF,WADM;AA1BW,SAArB;AAgCD,OA7DH;AA8DD;AAhEsB,GAAzB;AAkED,CA1EA,CA0EEb,QA1EF,EA0EYC,MA1EZ,EA0EoByC,MA1EpB,CAAD","sourcesContent":["/**\n * @file\n * Behaviors for the Chart.\n */\n/* eslint-disable max-len */\n\n!((document, Drupal, $) => {\n  'use strict';\n\n  /**\n   * Setup and attach the Chart behaviors.\n   *\n   * @type {Drupal~behavior}\n   */\n  Drupal.behaviors.chart = {\n    attach: function (context) {\n      $('.chart', context)\n        .once('chartInit')\n        .each(function (index) {\n          const $chart = $(this).find('div');\n          const colors = $chart.data('colors');\n          const values = $chart.data('values');\n          const newId = `chart${index > 0 ? `-${index}` : ''}`;\n          $chart.attr('id', newId);\n          const id = $chart.attr('id');\n\n          let data = [];\n          if (values) {\n            data = values.map((v, i) => {\n              const value = parseInt(v);\n              const y =\n                typeof value === 'number' ? (value >= 0 ? value : 0) : 0;\n\n              if (i === 0) {\n                return {\n                  y,\n                  sliced: true,\n                  selected: true\n                };\n              }\n              return { y };\n            });\n          }\n\n          // eslint-disable-next-line no-undef\n          Highcharts.chart(id, {\n            colors,\n            chart: {\n              plotBackgroundColor: null,\n              plotBorderWidth: null,\n              plotShadow: false,\n              type: 'pie',\n              width: 165,\n              height: 165\n            },\n            title: {\n              text: ''\n            },\n            tooltip: {\n              enabled: false\n            },\n            credits: {\n              enabled: false\n            },\n            plotOptions: {\n              pie: {\n                dataLabels: {\n                  enabled: false\n                }\n              }\n            },\n            series: [\n              {\n                data\n              }\n            ]\n          });\n        });\n    }\n  };\n})(document, Drupal, jQuery);\n"],"file":"chart.es6.js"}