{"version":3,"sources":["src/patterns/components/nysenate-committee-widget/nysenate-committee-widget.js"],"names":["document","Drupal","$","behaviors","committeesList","attach","commList","each","unflagBtn","find","flagBtn","flagMsg","closeMsg","css","html","attr","data","add","on","parent","fadeIn","length","remove","jQuery"],"mappings":"AAAA;;;;;AAIA;AACA,CAAE,UAACA,QAAD,EAAWC,MAAX,EAAmBC,CAAnB,EAAyB;AACzB;AACA;;;;;;AAKAD,EAAAA,MAAM,CAACE,SAAP,CAAiBC,cAAjB,GAAkC;AAChCC,IAAAA,MAAM,EAAE,kBAAY;AAClB,UAAMC,QAAQ,GAAGJ,CAAC,CAAC,sBAAD,CAAlB;AAEAI,MAAAA,QAAQ,CAACC,IAAT,CAAc,YAAY;AACxB,YAAMC,SAAS,GAAGN,CAAC,CAAC,IAAD,CAAD,CAAQO,IAAR,CAAa,qBAAb,CAAlB;AACA,YAAMC,OAAO,GAAGR,CAAC,CAAC,IAAD,CAAD,CAAQO,IAAR,CAAa,mBAAb,CAAhB;AACA,YAAME,OAAO,GAAGT,CAAC,CAAC,IAAD,CAAD,CAAQO,IAAR,CAAa,eAAb,CAAhB;AACA,YAAMG,QAAQ,GAAGV,CAAC,CAAC,IAAD,CAAD,CAAQO,IAAR,CAAa,8BAAb,CAAjB;AAEAE,QAAAA,OAAO,CAACE,GAAR,CAAY,SAAZ,EAAuB,MAAvB;AAEAL,QAAAA,SAAS,CAACM,IAAV,CAAe,+CAAf;AACAN,QAAAA,SAAS,CAACO,IAAV,CAAe,MAAf,EAAuBP,SAAS,CAACQ,IAAV,CAAe,eAAf,CAAvB;AAEAN,QAAAA,OAAO,CAACI,IAAR,CAAa,uBAAb;AACAJ,QAAAA,OAAO,CAACK,IAAR,CAAa,MAAb,EAAqBL,OAAO,CAACM,IAAR,CAAa,aAAb,CAArB;AAECR,QAAAA,SAAD,CAAYS,GAAZ,CAAgBP,OAAhB,EAAyBH,IAAzB,CAA8B,YAAY;AACxCL,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgB,EAAR,CAAW,OAAX,EAAoB,YAAY;AAC9BhB,YAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiB,MAAR,GAAiBV,IAAjB,CAAsB,eAAtB,EAAuCW,MAAvC;AACD,WAFD;AAGD,SAJD;;AAMA,YAAIR,QAAQ,CAACS,MAAb,EAAqB;AACnBT,UAAAA,QAAQ,CAACM,EAAT,CAAY,OAAZ,EAAqB,YAAY;AAC/BhB,YAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiB,MAAR,GAAiBG,MAAjB;AACD,WAFD;AAGD;AACF,OAzBD;AA0BD;AA9B+B,GAAlC;AAgCD,CAvCA,CAuCEtB,QAvCF,EAuCYC,MAvCZ,EAuCoBsB,MAvCpB,CAAD","sourcesContent":["/**\n * @file\n * Behaviors for the Committees List.\n */\n/* eslint-disable max-len */\n!((document, Drupal, $) => {\n  'use strict';\n  /**\n   * Setup and attach the Committees List behaviors.\n   *\n   * @type {Drupal~behavior}\n   */\n  Drupal.behaviors.committeesList = {\n    attach: function () {\n      const commList = $('.comm-widget-wrapper');\n\n      commList.each(function () {\n        const unflagBtn = $(this).find('.flag.unflag-action');\n        const flagBtn = $(this).find('.flag.flag-action');\n        const flagMsg = $(this).find('.flag-message');\n        const closeMsg = $(this).find('.flag-message .close-message');\n\n        flagMsg.css('display', 'none');\n\n        unflagBtn.html('<span class=\"close-message\">X</span> Unfollow');\n        unflagBtn.attr('href', unflagBtn.data('unfollow-link'));\n\n        flagBtn.html('Follow this committee');\n        flagBtn.attr('href', flagBtn.data('follow-link'));\n\n        (unflagBtn).add(flagBtn).each(function () {\n          $(this).on('click', function () {\n            $(this).parent().find('.flag-message').fadeIn();\n          });\n        });\n\n        if (closeMsg.length) {\n          closeMsg.on('click', function () {\n            $(this).parent().remove();\n          });\n        }\n      });\n    }\n  };\n})(document, Drupal, jQuery);\n"],"file":"nysenate-committee-widget.js"}