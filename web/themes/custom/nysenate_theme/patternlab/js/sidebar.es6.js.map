{"version":3,"sources":["src/patterns/components/sidebar/sidebar.es6.js"],"names":["document","Drupal","$","behaviors","sidebar","attach","context","$this","sidebarToggle","header","once","each","sidebarToggleInit","window","resize","debounce","onResize","headerBottom","offset","top","outerHeight","css","err","func","timeout","timer","args","clearTimeout","setTimeout","apply","click","e","stopImmediatePropagation","body","hasClass","removeClass","addClass","jQuery"],"mappings":"AAAA;;;;;AAIA;AAEA,CAAE,UAACA,QAAD,EAAWC,MAAX,EAAmBC,CAAnB,EAAyB;AACzB;AAEA;;;;;;AAKAD,EAAAA,MAAM,CAACE,SAAP,CAAiBC,OAAjB,GAA2B;AACzBC,IAAAA,MAAM,EAAE,gBAAUC,OAAV,EAAmB;AACzB,UAAMC,KAAK,GAAG,IAAd;AACA,UAAMC,aAAa,GAAGN,CAAC,CAAC,iBAAD,EAAoBI,OAApB,CAAvB;AACA,UAAMG,MAAM,GAAGP,CAAC,CAAC,uBAAD,CAAhB;AAEAM,MAAAA,aAAa,CAACE,IAAd,CAAmB,eAAnB,EAAoCC,IAApC,CAAyCJ,KAAK,CAACK,iBAA/C;AACAV,MAAAA,CAAC,CAACW,MAAD,CAAD,CAAUC,MAAV,CAAiBP,KAAK,CAACQ,QAAN,CAAe;AAAA,eAAMR,KAAK,CAACS,QAAN,CAAeR,aAAf,CAAN;AAAA,OAAf,CAAjB;AACAD,MAAAA,KAAK,CAACS,QAAN,CAAeP,MAAf;AACD,KATwB;AAUzBO,IAAAA,QAAQ,EAAE,kBAAUP,MAAV,EAAkB;AAC1B,UAAI;AACF,YAAMQ,YAAY,GAAGR,MAAM,CAACS,MAAP,GAAgBC,GAAhB,GAAsBV,MAAM,CAACW,WAAP,EAA3C;AACA,YAAMhB,OAAO,GAAGF,CAAC,CAAC,UAAD,CAAjB;AACAE,QAAAA,OAAO,CAACiB,GAAR,CAAY,OAAZ,YAAwBJ,YAAxB;AACD,OAJD,CAKA,OAAOK,GAAP,EAAY;AACV,eAAOA,GAAP;AACD;AACF,KAnBwB;AAoBzBP,IAAAA,QAAQ,EAAE,kBAAUQ,IAAV,EAA+B;AAAA;;AAAA,UAAfC,OAAe,uEAAL,GAAK;AACvC,UAAIC,KAAJ;AACA,aAAO,YAAa;AAAA,0CAATC,IAAS;AAATA,UAAAA,IAAS;AAAA;;AAClBC,QAAAA,YAAY,CAACF,KAAD,CAAZ;AACAA,QAAAA,KAAK,GAAGG,UAAU,CAAC,YAAM;AACvBL,UAAAA,IAAI,CAACM,KAAL,CAAW,KAAX,EAAiBH,IAAjB;AACD,SAFiB,EAEfF,OAFe,CAAlB;AAGD,OALD;AAMD,KA5BwB;AA6BzBZ,IAAAA,iBAAiB,EAAE,6BAAY;AAC7B,UAAMJ,aAAa,GAAGN,CAAC,CAAC,IAAD,CAAvB;AAEAM,MAAAA,aAAa,CAACsB,KAAd,CAAoB,UAAUC,CAAV,EAAa;AAC/BA,QAAAA,CAAC,CAACC,wBAAF;AAEA,YAAM5B,OAAO,GAAGF,CAAC,CAAC,UAAD,CAAjB;AACA,YAAM+B,IAAI,GAAG/B,CAAC,CAAC,MAAD,CAAd;;AAEA,YAAIE,OAAO,CAAC8B,QAAR,CAAiB,MAAjB,CAAJ,EAA8B;AAC5B9B,UAAAA,OAAO,CAAC+B,WAAR,CAAoB,MAApB;AACAF,UAAAA,IAAI,CAACE,WAAL,CAAiB,cAAjB;AACAjC,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiC,WAAR,CAAoB,MAApB;AACD,SAJD,MAKK;AACH/B,UAAAA,OAAO,CAACgC,QAAR,CAAiB,MAAjB;AACAH,UAAAA,IAAI,CAACG,QAAL,CAAc,cAAd;AACAlC,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQkC,QAAR,CAAiB,MAAjB;AACD;AACF,OAhBD;AAiBD;AAjDwB,GAA3B;AAmDD,CA3DA,CA2DEpC,QA3DF,EA2DYC,MA3DZ,EA2DoBoC,MA3DpB,CAAD","sourcesContent":["/**\n * @file\n * Behaviors for the Sidebar.\n */\n/* eslint-disable max-len */\n\n!((document, Drupal, $) => {\n  'use strict';\n\n  /**\n   * Setup and attach the Sidebar behaviors.\n   *\n   * @type {Drupal~behavior}\n   */\n  Drupal.behaviors.sidebar = {\n    attach: function (context) {\n      const $this = this;\n      const sidebarToggle = $('.sidebar-toggle', context);\n      const header = $('#js-sticky--dashboard');\n\n      sidebarToggle.once('sidebarToggle').each($this.sidebarToggleInit);\n      $(window).resize($this.debounce(() => $this.onResize(sidebarToggle)));\n      $this.onResize(header);\n    },\n    onResize: function (header) {\n      try {\n        const headerBottom = header.offset().top + header.outerHeight();\n        const sidebar = $('.sidebar');\n        sidebar.css('--top', `${headerBottom}px`);\n      }\n      catch (err) {\n        return err;\n      }\n    },\n    debounce: function (func, timeout = 300) {\n      let timer;\n      return (...args) => {\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n          func.apply(this, args);\n        }, timeout);\n      };\n    },\n    sidebarToggleInit: function () {\n      const sidebarToggle = $(this);\n\n      sidebarToggle.click(function (e) {\n        e.stopImmediatePropagation();\n\n        const sidebar = $('.sidebar');\n        const body = $('body');\n\n        if (sidebar.hasClass('show')) {\n          sidebar.removeClass('show');\n          body.removeClass('sidebar-open');\n          $(this).removeClass('show');\n        }\n        else {\n          sidebar.addClass('show');\n          body.addClass('sidebar-open');\n          $(this).addClass('show');\n        }\n      });\n    }\n  };\n})(document, Drupal, jQuery);\n"],"file":"sidebar.es6.js"}