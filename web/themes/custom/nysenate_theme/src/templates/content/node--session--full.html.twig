{{ attach_library('nysenate_theme/session') }}

{% if content.field_live_message_override[0] %}
  <section class="l-messages">
    <div data-alert="" class="alert-box success">
      <div class="alert-box-message">
        <h2 class="element-invisible">Status message</h2>
        {{ content.field_live_message_override }}<a href="#" class="close">×</a>
      </div>
    </div>
  </section>
{% elseif content.field_live_message_status[0] %}
  <section class="l-messages">
    <div data-alert="" class="alert-box success">
      <div class="alert-box-message">
        <h2 class="element-invisible">Status message</h2>
        {{ content.field_live_message_status }}
      <a href="#" class="close">×</a>
      </div>
    </div>
  </section>
{% endif %}

<div class="c-block c-meeting-detail--header">
  {% if video_status.key == "cancelled" %}
    <div class="c-meeting-detail--overview">
      <p class="c-meeting-detail--date">
      {% if date_value %}
        <span class="c-meeting-date--num">
          {{ date_value.day }}
        </span>
        <span class="c-meeting-date--month">
          {{ date_value.month }}
        </span>
                <span class="c-meeting-date--year">
          {{date_value.year }}
        </span>
      {% endif %}
      </p>
    </div>
    <div class="c-meeting-detail--info">
      <h1 class="c-meeting-detail--title">Session</h1>
    </div>
      <div class="c-meeting-detail--descript">
        <p>Session will resume at the call of the Temporary President.</p>
      </div>
  {% else %}
    <div class="c-meeting-detail--meta">
      {% if video_status.key == "streaming_live_now" %}
        <p class="c-meeting-detail--live-flag">
          {{ video_status.value }}
        </p>
      {% endif %}
    </div>

  <div class="c-meeting-detail--overview">
    <p class="c-meeting-detail--date">
      {% if date_value %}
        <span class="c-meeting-date--num">
          {{ date_value.day }}
        </span>
        <span class="c-meeting-date--month">
          {{ date_value.month }}
        </span>
        <span class="c-meeting-date--year">
          {{ date_value.year }}
        </span>
      {% endif %}
    </p>

    <div class="c-meeting-detail--info">
      <h1 class="c-meeting-detail--title">Session</h1>
      <a class="c-meeting-detail--location-link" href="https://www.google.com/maps/place/New+York+State+Capitol/@42.652602,-73.757388,17z/data=!3m1!4b1!4m2!3m1!1s0x89de0a3aa5dc0b2b:0x72aed557f8df2510" title="NYS Capitol Building" target="_blank" >NYS Capitol Building</a>
      <p class="c-meeting-detail--location">
        {% if content.field_meeting_location %}
          {{ content.field_meeting_location }}
        {% endif %}
        {% if location %}
          {{ location }}
        {% endif %}
      </p>
      <p class="c-meeting-detail--time">
        {{ date_value.from_time }}
        {% if date_value.from_time != date_value.to_time %}
        to {{ date_value.to_time }}
        {% endif %}
        {% if video_status.key != "streaming_redirect" %}
          <span class="c-meeting-video--status icon-before__youtube">{{ video_status.value }}</span>
        {% endif %}
      </p>
      <div title="Add to Calendar" class="addthisevent">
        Add to Calendar
        <span class="start">{{ date_value.start_date }}</span>
        <span class="end">{{ date_value.end_date }}</span>
        <span class="timezone">America/New_York</span>
        <span class="title">{{ label }}</span>
        <span class="location">{{ content.field_location[0].organization['#value'] }}</span>
        <span class="date_format">MM/DD/YYYY</span>
        <span class="organizer">NY STATE SENATE</span>
      </div>
    </div>
   {% endif %}

    <div class="c-meeting-detail--descript">
      {{ content.body }}
    </div>

    {% if content.field_chapters %}
      <div class="c-meeting-detail--descript">
        {{ content.field_chapters }}
      </div>
    {% endif %}

    {% if content.field_issues[0] %}
      <div class="c-meeting-detail--related">
        <p>related issues: </p>
        {{ content.field_issues }}
      </div>
    {% endif %}

    {% if video_status.key == "streaming_live_now" and content.field_video_redirect %}
      <div class="c-meeting-detail--descript">
        {{ content.field_ustream }}
      </div>
    {% elseif video_status.key == "streaming_redirect" and content.field_video_redirect %}
      {{ content.field_ustream }}
    {% endif %}

    {% if content.field_yt %}
      <div class="c-meeting-detail--descript">
        {{ content.field_yt }}
      </div>
    {% endif %}

    {% if content.field_transcript %}
      {{ content.field_transcript }}
    {% endif %}

  </div>
</div>
